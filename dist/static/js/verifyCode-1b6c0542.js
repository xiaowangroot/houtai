import{H as u,d as R}from"./index-8c77f9cd.js";import{c as o,o as p,$ as i}from"./index-cd980a4b.js";const f=/^\d{6}$/,a=/^(?![0-9]+$)(?![a-z]+$)(?![A-Z]+$)(?!([^(0-9a-zA-Z)]|[()])+$)(?!^.*[\u4E00-\u9FA5].*$)([^(0-9a-zA-Z)]|[()]|[a-z]|[A-Z]|[0-9]){8,18}$/,y=Vue.reactive({password:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.passwordReg")))):a.test(r)?e():e(new Error(o(i("login.passwordRuleReg"))))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.verifyCodeReg")))):p().verifyCode!==r?e(new Error(o(i("login.verifyCodeCorrectReg")))):e()},trigger:"blur"}]}),$=Vue.reactive({phone:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.phoneReg")))):u(r)?e():e(new Error(o(i("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.verifyCodeReg")))):f.test(r)?e():e(new Error(o(i("login.verifyCodeSixReg"))))},trigger:"blur"}]}),h=Vue.reactive({phone:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.phoneReg")))):u(r)?e():e(new Error(o(i("login.phoneCorrectReg"))))},trigger:"blur"}],verifyCode:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.verifyCodeReg")))):f.test(r)?e():e(new Error(o(i("login.verifyCodeSixReg"))))},trigger:"blur"}],password:[{validator:(s,r,e)=>{r===""?e(new Error(o(i("login.passwordReg")))):a.test(r)?e():e(new Error(o(i("login.passwordRuleReg"))))},trigger:"blur"}]}),l=Vue.ref(!1),t=Vue.ref(null),g=Vue.ref(""),V=()=>({isDisabled:l,timer:t,text:g,start:async(e,d,n=60)=>{if(!e)return;const v=R(n,!0);await e.validateField(d,w=>{w&&(clearInterval(t.value),t.value=setInterval(()=>{n>0?(g.value=`${n}`,l.value=!0,n-=1):(g.value="",l.value=!1,clearInterval(t.value),n=v)},1e3))})},end:()=>{g.value="",l.value=!1,clearInterval(t.value)}});export{h as a,y as l,$ as p,V as u};
